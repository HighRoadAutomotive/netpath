<Window x:Class="WCFArchitect.Interface.Main"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
        xmlns:c1="http://schemas.componentone.com/winfx/2006/xaml"
		xmlns:chrome="clr-namespace:Prospective.Controls.Chrome;assembly=Prospective.Controls"
        mc:Ignorable="d" d:DesignHeight="900" d:DesignWidth="1200"
		DataContext="{Binding RelativeSource={RelativeSource Self}}"
		Style="{StaticResource MainWindowStyle}"
	    Title="WCF Architect" MinHeight="900" MinWidth="1200"
		TextOptions.TextFormattingMode="Display" TextOptions.TextHintingMode="Fixed" TextOptions.TextRenderingMode="ClearType" RenderOptions.BitmapScalingMode="HighQuality" RenderOptions.ClearTypeHint="Enabled" 
		SourceInitialized="Main_SourceInitialized" StateChanged="Main_StateChanged" Closing="Main_Closing" KeyUp="Main_KeyUp">
	<chrome:WindowChrome.WindowChrome>
		<chrome:WindowChrome CaptionHeight="32" ResizeBorderThickness="4" CornerRadius="0" GlassFrameThickness="0" />
	</chrome:WindowChrome.WindowChrome>
	<Border x:Name="WindowBorder" BorderThickness="0" BorderBrush="{StaticResource WindowBorderColor}" Background="{StaticResource WindowBackground}" Margin="8">
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="34" />
				<RowDefinition Height="*" />
			</Grid.RowDefinitions>
			<Grid Grid.Row="0">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="36" />
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="*" />
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="36" />
					<ColumnDefinition Width="36" />
					<ColumnDefinition Width="36" />
				</Grid.ColumnDefinitions>
				<Button x:Name="SystemMenu" Grid.Column="0" Style="{StaticResource WindowSystemButtonStyle}" chrome:WindowChrome.IsHitTestVisibleInChrome="True" Click="SystemMenu_Click" >
					<Button.ContextMenu>
						<ContextMenu>
							<MenuItem Header="Open" x:Name="SystemMenuOpen" Click="SystemMenuOpen_Click" />
							<Separator/>
							<MenuItem Header="Save" x:Name="SystemMenuSave" Click="SystemMenuSave_Click" />
							<MenuItem Header="Save As" x:Name="SystemMenuSaveAs" Click="SystemMenuSaveAs_Click" />
							<Separator/>
							<MenuItem Header="Options" x:Name="SystemMenuOptions" Click="SystemMenuOptions_Click" />
							<Separator/>
							<MenuItem Header="Help" x:Name="SystemMenuHelp" Click="SystemMenuHelp_Click" />
							<Separator/>
							<MenuItem Header="Exit" x:Name="SystemMenuExit" Click="SystemMenuExit_Click" />
						</ContextMenu>
					</Button.ContextMenu>
					<Image Source="pack://application:,,,/WCFArchitect;component/Icons/X32/LogoIcon.png" Width="32" Height="32" Stretch="None" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="1" />
				</Button>
				<ItemsControl x:Name="ScreenButtons" Grid.Column="1" Margin="20,0" chrome:WindowChrome.IsHitTestVisibleInChrome="True" >
					<ItemsControl.ItemsPanel>
						<ItemsPanelTemplate>
							<StackPanel Orientation="Horizontal" />
						</ItemsPanelTemplate>
					</ItemsControl.ItemsPanel>
				</ItemsControl>
				<Label Grid.Column="2" Content="{Binding Path=Title}" FontSize="14pt" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" />
				<Label Grid.Column="3" Content="{Binding Path=CurrentUser.Name, TargetNullValue=''}" ContentStringFormat="Current User: {0}" Margin="5,0" FontSize="10pt" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" />
				<Button x:Name="MinimizeWindow" Grid.Column="4" Style="{StaticResource WindowControlButtonStyle}" chrome:WindowChrome.IsHitTestVisibleInChrome="True" Click="MinimizeWindow_Click">
					<Image Source="pack://application:,,,/Prospective.Controls;component/Resources/WindowMinimize.png" Width="12" Height="12" Stretch="None" HorizontalAlignment="Center" VerticalAlignment="Center" />
				</Button>
				<Button x:Name="MaximizeWindow" Grid.Column="5" Visibility="Collapsed" Style="{StaticResource WindowControlButtonStyle}" chrome:WindowChrome.IsHitTestVisibleInChrome="True" Click="MaximizeWindow_Click">
					<Image Source="pack://application:,,,/Prospective.Controls;component/Resources/WindowMaximize.png" Width="12" Height="12" Stretch="None" HorizontalAlignment="Center" VerticalAlignment="Center" />
				</Button>
				<Button x:Name="RestoreWindow" Grid.Column="5" Style="{StaticResource WindowControlButtonStyle}" chrome:WindowChrome.IsHitTestVisibleInChrome="True" Click="RestoreWindow_Click">
					<Image Source="pack://application:,,,/Prospective.Controls;component/Resources/WindowRestore.png" Width="12" Height="12" Stretch="None" HorizontalAlignment="Center" VerticalAlignment="Center" />
				</Button>
				<Button x:Name="CloseWindow" Grid.Column="6" Style="{StaticResource WindowControlButtonStyle}" chrome:WindowChrome.IsHitTestVisibleInChrome="True" Click="CloseWindow_Click">
					<Image Source="pack://application:,,,/Prospective.Controls;component/Resources/WindowClose.png" Width="12" Height="12" Stretch="None" HorizontalAlignment="Center" VerticalAlignment="Center" />
				</Button>
			</Grid>
			<Border Grid.Row="1" BorderBrush="{StaticResource WindowBorderColor}" BorderThickness="0,1,0,0">
				<Grid>
					<Grid x:Name="Screens" Grid.Row="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" UseLayoutRounding="True" />
				</Grid>
			</Border>
			<Border x:Name="MessageBox" Background="#66000000" Grid.RowSpan="2" Visibility="Hidden">
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="*"/>
						<RowDefinition Height="*"/>
						<RowDefinition Height="*"/>
					</Grid.RowDefinitions>
					<Border Grid.Row="1" Background="{StaticResource WindowBackground}" IsHitTestVisible="True">
						<Grid>
							<Grid.RowDefinitions>
								<RowDefinition Height="60"/>
								<RowDefinition Height="*"/>
								<RowDefinition Height="55"/>
							</Grid.RowDefinitions>
							<TextBlock Grid.Row="0" Margin="10" FontSize="24pt">
								<TextBlock.Text>
									<MultiBinding StringFormat="{}{0} - {1}" TargetNullValue="">
										<Binding Path="MessageProject" />
										<Binding Path="MessageCaption" />
									</MultiBinding>
								</TextBlock.Text>
							</TextBlock>
							<TextBlock Text="{Binding Path=Message}" Grid.Row="1" FontSize="14pt" Margin="20" />
							<ItemsControl x:Name="MessageBoxButtons" ItemsSource="{Binding Path=MessageActions}" Grid.Row="2" Margin="5" HorizontalAlignment="Right">
								<ItemsControl.ItemsPanel>
									<ItemsPanelTemplate>
										<StackPanel Orientation="Horizontal" />
									</ItemsPanelTemplate>
								</ItemsControl.ItemsPanel>
							</ItemsControl>
						</Grid>
					</Border>
				</Grid>
			</Border>
		</Grid>
	</Border>
</Window>